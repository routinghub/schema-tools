{"openapi":"3.0.0","info":{"title":"Routing API","version":"v1","description":"REST API for vehicle fleet routing and scheduling.  \n","x-logo":{"url":"https://routinghub.com/static/images/logo1.svg"}},"components":{"securitySchemes":{"Bearer":{"type":"http","scheme":"bearer","description":"All requests to the API must be authorized with user's API key. The API uses HTTP Bearer authorization scheme.The API key must be provided in HTTP headers in one of the following formats:\n\n```\nAuthorization: Bearer <your API key>\nAuthorization: Apikey <your API key>```","name":"Authorization","in":"header"}},"schemas":{"TaskInfo":{"type":"object","title":"TaskDescription","description":"Task description. Contains task id for subsequent requests, and task statuses.","properties":{"id":{"type":"string","description":"Task unique id"},"status":{"type":"string","enum":["created","started","completed","cancelled"],"description":"Current status of an asynchronous task.\n\nStatus values:\n* `created` - request JSON has been parsed and validated, and task was created;\n* `started` - task execution has started;\n* `completed` - task execution has been completed;\n* `cancelled` - task execution has been cancelled due to timeout or error.\n\nThe status of a task will change only in the following ways during execution:\n* `created ⟶ cancelled`;\n* `created ⟶ started ⟶ (completed or cancelled).`\n"},"status_log":{"type":"array","description":"Task status log","items":{"title":"StatusLogEntry","type":"object","properties":{"time":{"type":"string","description":"Status time, ISO8601 timestamp in UTC time zone"},"status":{"type":"string","enum":["started","completed","cancelled"],"description":"Status value"}},"required":["time","status"],"additionalProperties":false}}},"required":["id","status","status_log"]},"Error":{"type":"object","properties":{"error":{"type":"object","title":"ErrorDescription","description":"Error description.","properties":{"message":{"type":"string","description":"Error text."},"request_id":{"type":"string","description":"Unique identifier of the request for tracing purposes."},"details":{"type":"object","description":"Additional information about the error."}},"additionalProperties":false,"required":["message"]}},"additionalProperties":false,"required":["error"]},"BalancedShifts":{"description":"Balanced vehicle shifts definition.\n\nTo include vehicle shift into the group, specify id of the group in `fleet{}.shifts{}.balance_key`.","type":"object","properties":{"failure_costs":{"title":"BalancedShiftsCosts","description":"Costs of balancing shifts by total number stops or total shift duration.","type":"object","properties":{"per_hour":{"type":"number","default":3.0,"minimum":0,"description":"Balances shifts in the group by total duration.\n\nDefines the cost per each hour of Root Sum Squared (RSS) difference between the duration of a shift and average duration of other balanced shifts."},"per_stop":{"type":"number","default":1.0,"minimum":0,"description":"Balances shifts in the group by total number of stops.\n\nDefines the cost per each stop in Route Sum Squared (RSS) difference between the number of stops in a shift and average number of stops in other balanced shifts."}}}},"additionalProperties":false},"BalancedShiftsDictionary":{"type":"object","additionalProperties":{"title":"BalancedShifts","allOf":[{"$ref":"#/components/schemas/BalancedShifts"}]},"description":"Vehicles shifts balancing"},"Capacity":{"type":"object","description":"Vehicle capacity","properties":{"volume":{"type":"number","minimum":0,"default":256.0,"description":"Volume, cubic meters.\n\nWhen `volume` is not specified, and `weight` is specified, will be calculated from `weight` using [volumetric factor of 200 kg/cbm](https://en.wikipedia.org/wiki/Dimensional_weight)."},"weight":{"type":"number","minimum":0,"default":51200.0,"description":"Weight, kilograms.\n\nWhen `weight` is not specified, and `volume` is specified, will be calculated from `volume` using [volumetric factor of 200 kg/cbm](https://en.wikipedia.org/wiki/Dimensional_weight)."},"count":{"type":"number","minimum":0,"default":0.0,"description":"Count, items.\n\nA unit of count defining the number of items regarded as separate and equal units. Used independently from `weight` or `volume`."}},"additionalProperties":false},"Constraints":{"type":"object","additionalProperties":false,"description":"Constraints applied to all vehicles in the fleet or to all defined sites","properties":{"employed_vehicles_limit":{"title":"EmployedVehiclesLimit","description":"Limit the number of employed vehicles.","allOf":[{"$ref":"#/components/schemas/EmployedVehiclesLimit"}]},"balanced_shifts":{"title":"BalancedShiftsDictionary","description":"Vehicle shifts balancing.\n\nEnables balancing of selected vehicles shifts by total duration or number of stops.\n\nA balancing key defined here should be referred at vehicle shift definition to enable route balancing for the shift, see `fleet{}.shifts{}.balancing_key`","allOf":[{"$ref":"#/components/schemas/BalancedShiftsDictionary"}]},"same_route_sites":{"title":"SameRouteSitesDictionary","description":"Same route sites groups.\n\nEnforces group of sites to appear on the same route.\n\nA group key defined here should be referred at site definition to enable the same route requirement, see `sites{}.same_route_key`","allOf":[{"$ref":"#/components/schemas/SameRouteSitesDictionary"}]},"load_category_restrictions":{"type":"array","description":"Defines lists of restricted load categories combinations, which can not be transported in any vehicle at the same time during the route. \n\nLoad categories defined here should be specified at site definition, see `sites{}.load.category` field.","title":"LoadCategoriesRestrictionsLists","items":{"type":"array","title":"LoadCategoriesRestrictions","items":{"type":"string","title":"LoadCategory","description":"Category or safety class of transported item."}}}}},"CostMatrix":{"type":"object","x-extendedDiscriminator":"type","oneOf":[{"$ref":"#/components/schemas/OsrmCostMatrix"},{"$ref":"#/components/schemas/HereCostMatrix"},{"$ref":"#/components/schemas/ZeroCostMatrix"},{"$ref":"#/components/schemas/GcsCostMatrix"},{"$ref":"#/components/schemas/StraightLineCostMatrix"},{"$ref":"#/components/schemas/UrlCostMatrix"},{"$ref":"#/components/schemas/JsonCostMatrix"}]},"CostMatrixTimeInterval":{"type":"object","properties":{"start":{"description":"Interval start, ISO8601 timestamp with timezone","type":"string"},"end":{"description":"Interval end, ISO8601 timestamp with timezone","type":"string"}},"required":["start","end"],"additionalProperties":false},"DelayedStartCosts":{"type":"object","properties":{"per_hour":{"type":"number","default":15.0,"minimum":0,"description":"Cost per each hour of delayed start from the depot.\n\nThe cost should normally be higher than `vehicle.cost.per_hour` to minimize delayed start."}},"required":["per_hour"],"additionalProperties":false},"Depot":{"type":"object","properties":{"location":{"$ref":"#/components/schemas/GeographicLocation"},"time_window":{"title":"TimeWindow","description":"Time window for depot operations.\n \nRange of time, when depot is allowed to dispatch or accept returning vehicles.","allOf":[{"$ref":"#/components/schemas/TimeWindow"}]},"untimely_operations_costs":{"title":"UntimelyOperationsCosts","description":"Costs of untimely depot operations.\n\nVehicles dispatched too early (before depot time window start) or returned too late (after time window end) will result corresponding penalty added to the overall cost of the route.","allOf":[{"$ref":"#/components/schemas/UntimelyOperationsCosts"}]},"delayed_start_costs":{"title":"DelayedStartCosts","description":"Costs of delayed start of a route at the depot.\n\nVehicles dispatched too late after depot or vehicle shift time window start will result corresponding penalty added to the overall cost of the route.","allOf":[{"$ref":"#/components/schemas/DelayedStartCosts"}]},"duration":{"type":"number","description":"Duration that vehicle spends at a depot (e.g. goods loading), seconds.","minimum":0,"default":600.0},"throughput":{"$ref":"#/components/schemas/DepotThroughput"}},"required":["location","time_window"],"additionalProperties":false,"description":"Depot where all vehicles start and optionally finish their routes."},"DepotThroughput":{"type":"object","description":"Maximum number of weight units that can be processed by a depot per hour.\n\nNote, that vehicles capacity and load size should be specified using the same weight units as depot throughput.","oneOf":[{"$ref":"#/components/schemas/KilogramsPerHour"},{"$ref":"#/components/schemas/ItemsPerHour"}]},"DepotsDictionary":{"type":"object","additionalProperties":{"title":"Depot","allOf":[{"$ref":"#/components/schemas/Depot"}]},"description":"Depots where vehicles start and finish routes."},"EmployedVehiclesLimit":{"type":"object","properties":{"min":{"type":"number","minimum":0,"exclusiveMinimum":true,"description":"Minumum number of vehicles to employ."},"failure_costs":{"title":"VehiclesLimitFailureCosts","description":"Cost of employing less than a minimum number of vehicles.","allOf":[{"$ref":"#/components/schemas/VehiclesLimitFailureCosts"}]}},"additionalProperties":false,"required":["min"]},"GcsCostMatrix":{"type":"object","properties":{"type":{"description":"Cost matrix specified as remote JSON file, stored in Google Cloud Storage bucket. Specified bucket must be read-accessible by everyone, or by privately configured Service Account. For format of remote JSON file see `JsonCostMatrix`","type":"string","enum":["gcs"]},"dimensions":{"type":"string","description":"Type of available matrix dimensions, that must appear in cost matrix body.\n\nFollowing types are supported:\n* `distance_duration` - transit distance and duration;\n* `distance_duration_energy` - transit distance, duration and energy spent during the transition","enum":["distance_duration","distance_duration_energy"],"default":"distance_duration"},"bucket":{"type":"string","description":"GCS bucket"},"object":{"type":"string","description":"Path to object in GCS bucket"}},"required":["type","bucket","object"],"additionalProperties":false},"GeographicLocation":{"description":"Geographic coordinate in WGS84 projection.","type":"object","properties":{"lat":{"type":"number","minimum":-90.0,"maximum":90.0,"description":"Latitude"},"lng":{"type":"number","minimum":-180.0,"maximum":180.0,"description":"Longitude"}},"required":["lat","lng"],"additionalProperties":false},"HereCostMatrix":{"type":"object","properties":{"type":{"type":"string","description":"Cost matrix requested from HERE Matrix API (car profile)","enum":["here"]}},"required":["type"],"additionalProperties":false},"ItemsPerHour":{"type":"object","properties":{"items":{"type":"number","minimum":0,"exclusiveMinimum":true,"description":"Maximum number of items processed per hour."}},"required":["items"],"additionalProperties":false},"JsonCostMatrix":{"type":"object","properties":{"type":{"description":"Cost matrices inlined in JSON.","type":"string","enum":["json"]},"dimensions":{"type":"string","description":"Type of available matrix dimensions, that must appear in cost matrix body.\n\nFollowing types are supported:\n* `distance_duration` - transit distance and duration;\n* `distance_duration_energy` - transit distance, duration and energy spent during the transition","enum":["distance_duration","distance_duration_energy"],"default":"distance_duration"},"value":{"oneOf":[{"$ref":"#/components/schemas/TimeIndependentCostMatrix"},{"type":"array","description":"Transit cost matrices for different time points","title":"TimeDependentCostMatrix","items":{"allOf":[{"$ref":"#/components/schemas/TimeDependentCostMatrix"}]}}]}},"required":["type","value"],"additionalProperties":false},"KilogramsPerHour":{"type":"object","properties":{"kilograms":{"type":"number","minimum":0,"exclusiveMinimum":true,"description":"Maximum weight processed per hour, kilograms."}},"required":["kilograms"],"additionalProperties":false},"LateOperationsCosts":{"type":"object","properties":{"per_event":{"type":"number","default":15.0,"minimum":0,"description":"Cost per an event of late operations"},"per_late_minute":{"type":"number","default":0.25,"minimum":0,"description":"Cost per a minute of late operations"}},"additionalProperties":false},"Load":{"type":"object","description":"Load at the site to be picked up or delivered by a vehicle","properties":{"volume":{"type":"number","minimum":0,"default":0.005,"description":"Volume, cubic meters.\n\nWhen `volume` is not specified, and `weight` is specified, will be calculated from `weight` using [volumetric factor of 200 kg/cbm](https://en.wikipedia.org/wiki/Dimensional_weight)."},"weight":{"type":"number","minimum":0,"default":1.0,"description":"Weight, kilograms.\n\nWhen `weight` is not specified, and `volume` is specified, will be calculated from `volume` using [volumetric factor of 200 kg/cbm](https://en.wikipedia.org/wiki/Dimensional_weight)."},"count":{"type":"number","minimum":0,"default":0.0,"description":"Count, items.\n\nA unit of count defining the number of items regarded as separate and equal units. Used independently from `weight` or `volume`."},"categories":{"type":"array","items":{"type":"string","title":"LoadCategory","description":"Category or safety class of transported item."},"description":"Categories or safety classes of transported item.","title":"LoadCategories"}},"additionalProperties":false},"MatrixCoordinates":{"type":"array","description":"Column and row coordinate","items":{"type":"array","items":{"type":"number","format":"float","minimum":0.0,"minItems":2,"maxItems":2}},"additionalItems":false},"MinimiumLoad":{"type":"object","description":"Mininum load allowed to be handled by the vehicle","properties":{"volume":{"type":"number","minimum":0,"default":0.0,"description":"Volume, cubic meters.\n\nWhen `volume` is not specified, and `weight` is specified, will be calculated from `weight` using [volumetric factor of 200 kg/cbm](https://en.wikipedia.org/wiki/Dimensional_weight)."},"weight":{"type":"number","minimum":0,"default":0.0,"description":"Weight, kilograms.\n\nWhen `weight` is not specified, and `volume` is specified, will be calculated from `volume` using [volumetric factor of 200 kg/cbm](https://en.wikipedia.org/wiki/Dimensional_weight)."},"count":{"type":"number","minimum":0,"default":0.0,"description":"Count, items.\n\nA unit of count defining the number of items regarded as separate and equal units. Used independently from `weight` or `volume`."}},"additionalProperties":false},"MovedLoadCost":{"type":"object","description":"Cost of moving a load over a distance in kilometers.\n\nThis cost component will force vehicles to deliver heavier load first, or pickup heavier load at the end of the route, maximizing vehicle energy efficiency (particularly for EV).\n\nNote, that vehicles capacity and load size should be specified using the same weight units as load moving costs.","oneOf":[{"$ref":"#/components/schemas/MovedLoadCostKgKm"},{"$ref":"#/components/schemas/MovedLoadCostCountKm"}]},"MovedLoadCostCountKm":{"type":"object","properties":{"per_countkm":{"type":"number","minimum":0,"exclusiveMinimum":true,"description":"Cost of moving 1 item over 1 km, items⋅km."}},"required":["per_countkm"],"additionalProperties":false},"MovedLoadCostKgKm":{"type":"object","properties":{"per_kgkm":{"type":"number","minimum":0,"exclusiveMinimum":true,"description":"Cost of moving 1 kg over 1 km, kg⋅km."}},"required":["per_kgkm"],"additionalProperties":false},"Options":{"type":"object","properties":{"minimization_target":{"type":"string","enum":["cost"],"default":"cost","deprecated":true},"cost_matrix":{"title":"CostMatrix","description":"Matrix of distances and durations between all depots and sites.","allOf":[{"$ref":"#/components/schemas/CostMatrix"}]},"internal":{"type":"object","additionalProperties":true,"description":"Experimental options, reserved for internal use"}}},"OsrmCostMatrix":{"type":"object","properties":{"type":{"type":"string","description":"Cost matrix from OpenStreetMap (default OSRM car profile)","enum":["osrm"]}},"required":["type"],"additionalProperties":false},"RowMajorMatrix":{"type":"array","description":"Row-major matrix of positive numbers","items":{"type":"array","items":{"type":"number","format":"float","minimum":0.0}},"minItems":1,"additionalItems":false},"SameRoute":{"description":"Same route site group definition.\n\nTo include site into the group, specify id of the group in `sites{}.same_route_key`.","type":"object","properties":{"failure_costs":{"title":"SameRouteFailureCosts","description":"Costs of failing to have all group sites on the same route.","type":"object","properties":{"per_site":{"type":"number","default":10.0,"minimum":0,"description":"Cost per each site in the group failing the constraint."}}}},"additionalProperties":false},"SameRouteSitesDictionary":{"type":"object","additionalProperties":{"title":"SameRoute","allOf":[{"$ref":"#/components/schemas/SameRoute"}]},"description":"Groups of sites to appear on the same route"},"Shift":{"type":"object","properties":{"time_window":{"title":"TimeWindow","description":"Time window of a vehicle shift.\n\nVehicle should finish the route and optionally return to depot by the end of defined shift time window.","allOf":[{"$ref":"#/components/schemas/TimeWindow"}]},"late_operations_costs":{"title":"LateOperationsCosts","description":"Cost of late finish of a shift.\n\nAdded to total cost of the solution, when shift is finished later than specified shift time window. Does not apply when `time_window.strict = true`.","allOf":[{"$ref":"#/components/schemas/LateOperationsCosts"}]},"stops_limit":{"title":"ShiftStopsLimit","description":"Restriction of number of stops per shift routes (currently only minimum number of stops).\n\nNote that co-located sites are accounted as one stop, and depot start and end is not counted.","allOf":[{"$ref":"#/components/schemas/ShiftStopsLimit"}]},"duration_limit":{"type":"number","default":86400.0,"description":"Maximum possible duration of the shift, seconds.\n\nIn case when duration of the shift exceeds defined limit, `late_operations_costs` are added to the total cost of the route proportionaly to excess time. "},"balance_key":{"type":"string","minLength":1,"description":"A key to define group of shifts that will be balanced by total number of stops or total duration.\n\nSee `constraints.balanced_shifts`"},"gap":{"type":"number","default":0.0,"description":"Delay between consecutive shifts performed by a vehicle, seconds.\n\nThe `gap` value can be used to model fixed-time operations between the shifts, such as swapping the driver, or processing the paperwork at the depot."}},"required":["time_window"],"additionalProperties":false},"ShiftStopsLimit":{"type":"object","properties":{"min":{"type":"number","minimum":0,"description":"Minumum number of stops a vehicle should made on the route. Note that co-located sites are accounted as one stop, and depot start and end is not counted."},"failure_costs":{"title":"StopsLimitFailureCosts","description":"Cost of having less than `stops_limit.min` stops in the route.\n\nAdded to total cost of the solution, when route has less than required number of stops. Does not apply when `stops_limit.min = 0` or when `stops_limit.min` is not defined.","allOf":[{"$ref":"#/components/schemas/StopsLimitFailureCosts"}]}},"required":["min"],"additionalProperties":false},"ShiftsDictionary":{"type":"object","additionalProperties":{"title":"Shift","allOf":[{"$ref":"#/components/schemas/Shift"}]},"description":"Vehicle shifts.\n\nLimits vehicle shift time to one or more defined time windows."},"Site":{"type":"object","properties":{"location":{"$ref":"#/components/schemas/GeographicLocation"},"time_window":{"title":"TimeWindow","description":"The range of time when a visit to the site is allowed.","allOf":[{"$ref":"#/components/schemas/TimeWindow"}]},"untimely_operations_costs":{"title":"UntimelyOperationsCosts","description":"Costs of untimely arrival to the site.\n\nWhen vehicle arrives to the site too early or too late in respect with the site time window, the corresponding cost is added to the overall cost of the route.","allOf":[{"$ref":"#/components/schemas/UntimelyOperationsCosts"}]},"load":{"$ref":"#/components/schemas/Load"},"unperformed_cost":{"type":"number","description":"Cost of non-performing a visit.","minimum":0,"default":200.0},"duration":{"type":"number","description":"Duration of the job, performed during the site visit, seconds.\n\nExample: time to handle goods or perform services during the site visit.","minimum":0,"default":600.0},"preparing_duration":{"type":"number","description":"Time before the job during the site visit, seconds.\n\nFor co-located sites, will only be accounted for the first site in sequence.\n\nExample: parking time or time for security clearance during site visit, which will happen once if several sites share the same geo coordinates and time window (\"co-located\").","minimum":0,"default":0.0},"loading_duration":{"type":"number","description":"Duration of loading the goods at the depot, seconds.\n\nWill be added to `depot.duration` to adjust time spent by vehicle at the depot.","minimum":0,"default":0.0},"required_capabilities":{"title":"CapabilitiesArray","description":"Vehicle capabilities required on site.\n\nA site can require vehicle with certain characteristics, such as cold storage, or a tailgate lift. Multiple capabilities are allowed. See `fleet{}.capabilities`.","type":"array","items":{"title":"Capability","type":"string"},"minItems":1},"job":{"type":"string","description":"Type of job performed at a site.\n\nFollowing types are supported:\n* `delivery` - goods are picked up at depot and delivered to this site;\n* `pickup` - goods are picked up at this site and delivered to the site specified in `deliver_to` field or to the depot at the end of the route.","enum":["pickup","delivery"],"default":"delivery"},"deliver_to":{"type":"string","description":"For `pickup` jobs, specifies `id` of destination site for delivery."},"same_route_key":{"type":"string","description":"Ensure that sites with equal `same_route_key` will appear on the same route.\n\nNote that all unique `same_route_key` values must be also specified at `constraints.same_route_sites`."}},"required":["location","time_window"],"additionalProperties":false,"description":"Site definition."},"SiteBase":{"type":"object","properties":{"location":{"$ref":"#/components/schemas/GeographicLocation"},"time_window":{"title":"TimeWindow","description":"Time window","allOf":[{"$ref":"#/components/schemas/TimeWindow"}]},"untimely_operations_costs":{"title":"UntimelyOperationsCosts","description":"Costs of untimely arrival to the site.\n\nWhen vehicle arrives to the site too early or too late in respect with the site time window, the corresponding cost is added to the overall cost of the route.","allOf":[{"$ref":"#/components/schemas/UntimelyOperationsCosts"}]}},"required":["location","time_window"],"additionalProperties":false},"SitesDictionary":{"type":"object","additionalProperties":{"title":"Site","allOf":[{"$ref":"#/components/schemas/Site"}]},"description":"Sites to be visited."},"StopsLimitFailureCosts":{"type":"object","properties":{"per_event":{"type":"number","default":1000.0,"stops":0,"description":"Cost per an event of constraint failure (fixed)"},"per_stop":{"type":"number","default":100.0,"stops":0,"description":"Cost per each stop not satisfying the constraint"}},"additionalProperties":false},"StraightLineCostMatrix":{"type":"object","properties":{"type":{"type":"string","description":"Cost matrix calculated using straight line distance [as per US FCC formula](https://www.gpo.gov/fdsys/pkg/CFR-2005-title47-vol4/pdf/CFR-2005-title47-vol4-sec73-208.pdf)\n\nTransit durations are calculated with speed 30 km/h\n","enum":["straight_line"]}},"required":["type"],"additionalProperties":false},"TimeDependentCostMatrix":{"type":"object","description":"Row-major matrices of transit distances and durations between origins and destinations during specified time interval.","properties":{"durations":{"title":"RowMajorMatrix","description":"Transit durations, seconds.","allOf":[{"$ref":"#/components/schemas/RowMajorMatrix"}]},"distances":{"title":"RowMajorMatrix","description":"Transit distances, meters.","allOf":[{"$ref":"#/components/schemas/RowMajorMatrix"}]},"energy":{"title":"RowMajorMatrix","description":"Transit energy, kW/h. \n\nRequired when `dimensions` value is set to `distance_duration_energy`, otherwise optional","allOf":[{"$ref":"#/components/schemas/RowMajorMatrix"}]},"fallback_cells":{"title":"MatrixCoordinates","description":"An array of matrix cells indices (`[row, column]`), where distance calculation failed (non-routable locations, closed roads, etc).\n\nFailed cells are replaced with:\n* `distances`, approximate straight line distance [as per US FCC formula](https://www.gpo.gov/fdsys/pkg/CFR-2005-title47-vol4/pdf/CFR-2005-title47-vol4-sec73-208.pdf)\n* `durations`, duration for approximate distance with speed * `energy`, 0 kWh\n km/h\n","allOf":[{"$ref":"#/components/schemas/MatrixCoordinates"}]},"interval":{"title":"CostMatrixTimeInterval","description":"Interval of time when the matrix should be used.","allOf":[{"$ref":"#/components/schemas/CostMatrixTimeInterval"}]}},"required":["durations","distances","interval"],"additionalProperties":false},"TimeIndependentCostMatrix":{"type":"object","description":"Row-major matrices of transit distances and durations between origins and destinations. ","properties":{"durations":{"title":"RowMajorMatrix","description":"Transit durations, seconds.","allOf":[{"$ref":"#/components/schemas/RowMajorMatrix"}]},"distances":{"title":"RowMajorMatrix","description":"Transit distances, meters.","allOf":[{"$ref":"#/components/schemas/RowMajorMatrix"}]},"energy":{"title":"RowMajorMatrix","description":"Transit energy, kW/h. \n\nRequired when `dimensions` value is set to `distance_duration_energy`, otherwise optional","allOf":[{"$ref":"#/components/schemas/RowMajorMatrix"}]},"fallback_cells":{"title":"MatrixCoordinates","description":"An array of matrix cells indices (`[row, column]`), where distance calculation failed (non-routable locations, closed roads, etc).\n\nFailed cells are replaced with:\n* `distances`, approximate straight line distance [as per US FCC formula](https://www.gpo.gov/fdsys/pkg/CFR-2005-title47-vol4/pdf/CFR-2005-title47-vol4-sec73-208.pdf)\n* `durations`, duration for approximate distance with speed * `energy`, 0 kWh\n km/h\n","allOf":[{"$ref":"#/components/schemas/MatrixCoordinates"}]}},"required":["durations","distances"],"additionalProperties":false},"TimeWindow":{"type":"object","properties":{"start":{"type":"string","description":"Time window start in ISO-8601 format.\n\nExamples:  \n`2018-01-02T15:30:00Z` for time in UTC;  \n`2018-01-02T15:30:00+02:00` for time with timezone."},"end":{"type":"string","description":"Time window end in ISO-8601 format.\n\nExamples:  \n`2018-01-02T15:30:00Z` for time in UTC;  \n`2018-01-02T15:30:00+02:00` for time with timezone.  \n"},"strict":{"type":"boolean","default":false,"description":"Indicates that time window can not be failed, i.e. late or early arrival is not possible."}},"required":["start","end"],"additionalProperties":false},"UntimelyOperationsCosts":{"type":"object","properties":{"per_event":{"type":"number","default":15.0,"minimum":0,"description":"Cost per an event of untimely operations"},"per_early_minute":{"type":"number","default":0.25,"minimum":0,"description":"Cost per a minute of early operations"},"per_late_minute":{"type":"number","default":0.25,"minimum":0,"description":"Cost per a minute of late operations"}},"additionalProperties":false},"UrlCostMatrix":{"type":"object","properties":{"type":{"description":"Cost matrix specified as remote JSON file, accessible over HTTPS at specified URL. For JSON format, see `JsonCostMatrix.value` field","type":"string","enum":["url"]},"dimensions":{"type":"string","description":"Type of available matrix dimensions, that must appear in cost matrix body.\n\nFollowing types are supported:\n* `distance_duration` - transit distance and duration;\n* `distance_duration_energy` - transit distance, duration and energy spent during the transition","enum":["distance_duration","distance_duration_energy"],"default":"distance_duration"},"url":{"description":"HTTPS URL of remote JSON resource","type":"string"}},"required":["type","url"],"additionalProperties":false},"Vehicle":{"description":"Vehicle definition.","type":"object","properties":{"costs":{"$ref":"#/components/schemas/VehicleCosts"},"shifts":{"$ref":"#/components/schemas/ShiftsDictionary"},"capacity":{"$ref":"#/components/schemas/Capacity"},"min_load":{"$ref":"#/components/schemas/MinimiumLoad"},"capabilities":{"title":"CapabilitiesArray","description":"Vehicle capabilities.\n\nOne or more vehicle characteristics, that could be required at a site, such as cold storage, or a tailgate lift.","type":"array","items":{"title":"Capability","type":"string"},"minItems":1},"roundtrip":{"type":"boolean","default":true,"description":"Return vehicle to the depot at the end of the route.Will be taken into account only when depot is defined.\n\nSetting `roundtrip` to `false` will force a vehicle to finish the route at last visited site."},"depot_id":{"type":"string","description":"Identifier of a depot where vehicle will start and optionally finish the route.\n\nIf `depot_id` is not defined and `depots` is defined, vehicle will start the route from the first depot in `depots` list.","minLength":1},"end_depot_id":{"type":"string","description":"Optional identifier of a depot, where vehicle will finish the route. \n\nCan be defined only if `depot_id` and `depots` are defined, otherwise will be ignored.","minLength":1}},"additionalProperties":false},"VehicleCosts":{"description":"Cost of vehicle usage.\n\nCosts of including the vehicle in a route. The units of cost components are undefined.","type":"object","properties":{"per_event":{"type":"number","minimum":0,"default":50.0,"description":"Cost of the vehicle, added to total route cost when vehicle is included in a route."},"per_hour":{"type":"number","minimum":0,"default":10.0,"description":"Cost for each hour of vehicle transit time"},"per_km":{"type":"number","minimum":0,"default":15.0,"description":"Cost for each kilometer of vehicle transit distance"},"per_site":{"type":"number","minimum":0,"default":0.0,"description":"Cost of visiting a site"},"per_kwh":{"type":"number","minimum":0,"default":0.0,"description":"Cost of energy, used during transit to a site.\n\n**Note, that setting `per_kwh` cost requires cost matrix with `energy` dimension.**"},"moved_load":{"$ref":"#/components/schemas/MovedLoadCost"}},"additionalProperties":false},"VehiclesDictionary":{"type":"object","additionalProperties":{"title":"Vehicle","allOf":[{"$ref":"#/components/schemas/Vehicle"}]},"description":"Fleet of available vehicles to visit sites."},"VehiclesLimitFailureCosts":{"type":"object","properties":{"per_event":{"type":"number","default":1000.0,"minimum":0,"description":"Cost per an event of constraint failure"},"per_vehicle":{"type":"number","default":1000.0,"minimum":0,"description":"Cost per each vehicle not satisfying the constraint"}},"additionalProperties":false},"ZeroCostMatrix":{"type":"object","properties":{"type":{"type":"string","description":"Cost matrix initialized with zeroes, used for debugging of costs and constraints.","enum":["zero"]}},"required":["type"],"additionalProperties":false},"RouteOptimizationRequest":{"type":"object","description":"Route optimization request.Defines all sites, vehicles, their costs and constraints.","properties":{"fleet":{"$ref":"#/components/schemas/VehiclesDictionary"},"sites":{"$ref":"#/components/schemas/SitesDictionary"},"depot":{"type":"object","properties":{"location":{"$ref":"#/components/schemas/GeographicLocation"},"time_window":{"title":"TimeWindow","description":"Time window for depot operations.\n \nRange of time, when depot is allowed to dispatch or accept returning vehicles.","allOf":[{"$ref":"#/components/schemas/TimeWindow"}]},"untimely_operations_costs":{"title":"UntimelyOperationsCosts","description":"Costs of untimely depot operations.\n\nVehicles dispatched too early (before depot time window start) or returned too late (after time window end) will result corresponding penalty added to the overall cost of the route.","allOf":[{"$ref":"#/components/schemas/UntimelyOperationsCosts"}]},"delayed_start_costs":{"title":"DelayedStartCosts","description":"Costs of delayed start of a route at the depot.\n\nVehicles dispatched too late after depot or vehicle shift time window start will result corresponding penalty added to the overall cost of the route.","allOf":[{"$ref":"#/components/schemas/DelayedStartCosts"}]},"duration":{"type":"number","description":"Duration that vehicle spends at a depot (e.g. goods loading), seconds.","minimum":0,"default":600.0},"throughput":{"$ref":"#/components/schemas/DepotThroughput"}},"required":["location","time_window"],"additionalProperties":false,"description":"Depot where all vehicles start and optionally finish their routes.","title":"DeprecatedDepot","deprecated":true},"depots":{"$ref":"#/components/schemas/DepotsDictionary"},"options":{"title":"Options","description":"Route optimization options.","allOf":[{"$ref":"#/components/schemas/Options"}]},"constraints":{"$ref":"#/components/schemas/Constraints"}},"required":["fleet","sites"],"additionalProperties":false},"Request":{"$ref":"#/components/schemas/RouteOptimizationRequest"},"AccumulativeStatistics":{"type":"object","description":"Accumulative statistics","properties":{"objective_value":{"type":"number","minimum":0},"total_cost":{"type":"number","description":"Total cost of all routes","minimum":0},"total_cost_and_penalty":{"type":"number","description":"Total cost of all routes with penalties","minimum":0},"total_penalty":{"type":"number","description":"Total penalty of all routes","minimum":0},"total_locality_penalty":{"type":"number","description":"Total locality penalty of all routes","minimum":0},"total_same_route_penalty":{"type":"number","description":"Total penalty for same route sites constraint","minimum":0},"total_duration":{"type":"number","description":"Total time of all routes (end of latest route - begin of earliest route)","minimum":0},"total_travel_duration":{"type":"number","description":"Total time spent in transit for all routes","minimum":0},"total_idle_duration":{"type":"number","description":"Total time spent not performing service at site, and not travelling between sites (`total_duration - total_travel_duration - sum(site.duration)`)","minimum":0},"total_travel_distance":{"type":"number","description":"Total transit distance for all routes","minimum":0},"total_travel_energy":{"type":"number","description":"Total transit energy for all routes","minimum":0},"untimely_operations":{"$ref":"#/components/schemas/UntimelyOperationsStatistics"},"total_moved_load_kgkm":{"type":"number","description":"Experimental","minimum":0},"total_moved_load_countkm":{"type":"number","description":"Experimental","minimum":0}},"additionalProperties":false,"required":["total_cost","total_cost_and_penalty","total_penalty","total_locality_penalty","total_duration","total_travel_duration","total_travel_distance","total_travel_energy","total_idle_duration","untimely_operations"]},"DepotRouteWaypoint":{"properties":{"depot":{"properties":{"id":{"type":"string","description":"Depot unique ID specified in the request"},"location":{"$ref":"#/components/schemas/GeographicLocation"},"time_window":{"title":"TimeWindow","description":"Time window for depot operations.\n \nRange of time, when depot is allowed to dispatch or accept returning vehicles.","allOf":[{"$ref":"#/components/schemas/TimeWindow"}]},"untimely_operations_costs":{"title":"UntimelyOperationsCosts","description":"Costs of untimely depot operations.\n\nVehicles dispatched too early (before depot time window start) or returned too late (after time window end) will result corresponding penalty added to the overall cost of the route.","allOf":[{"$ref":"#/components/schemas/UntimelyOperationsCosts"}]},"delayed_start_costs":{"title":"DelayedStartCosts","description":"Costs of delayed start of a route at the depot.\n\nVehicles dispatched too late after depot or vehicle shift time window start will result corresponding penalty added to the overall cost of the route.","allOf":[{"$ref":"#/components/schemas/DelayedStartCosts"}]},"duration":{"type":"number","description":"Duration that vehicle spends at a depot (e.g. goods loading), seconds.","minimum":0,"default":600.0},"throughput":{"$ref":"#/components/schemas/DepotThroughput"}},"type":"object","required":["location","time_window","id"],"additionalProperties":false,"description":"Depot route waypoint","title":"DepotWaypoint"},"arrival_time":{"type":"string","description":"Time of arrival to waypoint, ISO8601 timestamp in UTC format"},"departure_time":{"type":"string","description":"Time of arrival to waypoint, ISO8601 timestamp in UTC format"},"duration":{"type":"number","minimum":0,"description":"Duration of job at waypoint (handling goods, performing services, etc), seconds."},"idle_duration":{"type":"number","minimum":0,"description":"Idle time during waypoint visit after arrival and before starting the job, seconds."},"travel_duration":{"type":"number","minimum":0,"description":"Travel time to waypoint, seconds"},"untimely_arrival_duration":{"type":"number","description":"Time of untimely arrival to waypoint, seconds. Negative for early arrival (before `time_window.start`), positive for late arrival (after `time_window.end`)"},"travel_distance":{"type":"number","minimum":0,"description":"Travel distance to waypoint, meters"},"travel_energy":{"type":"number","minimum":0,"description":"Travel energy to waypoint, kWh"}},"type":"object","additionalProperties":false,"required":["arrival_time","departure_time","travel_distance","travel_duration","travel_energy","duration","idle_duration","untimely_arrival_duration","depot"]},"RouteShift":{"properties":{"id":{"type":"string","description":"Unique ID of the vehicle shift"},"time_window":{"title":"TimeWindow","description":"Time window of a vehicle shift.\n\nVehicle should finish the route and optionally return to depot by the end of defined shift time window.","allOf":[{"$ref":"#/components/schemas/TimeWindow"}]},"late_operations_costs":{"title":"LateOperationsCosts","description":"Cost of late finish of a shift.\n\nAdded to total cost of the solution, when shift is finished later than specified shift time window. Does not apply when `time_window.strict = true`.","allOf":[{"$ref":"#/components/schemas/LateOperationsCosts"}]},"stops_limit":{"title":"ShiftStopsLimit","description":"Restriction of number of stops per shift routes (currently only minimum number of stops).\n\nNote that co-located sites are accounted as one stop, and depot start and end is not counted.","allOf":[{"$ref":"#/components/schemas/ShiftStopsLimit"}]},"duration_limit":{"type":"number","default":86400.0,"description":"Maximum possible duration of the shift, seconds.\n\nIn case when duration of the shift exceeds defined limit, `late_operations_costs` are added to the total cost of the route proportionaly to excess time. "},"balance_key":{"type":"string","minLength":1,"description":"A key to define group of shifts that will be balanced by total number of stops or total duration.\n\nSee `constraints.balanced_shifts`"},"gap":{"type":"number","default":0.0,"description":"Delay between consecutive shifts performed by a vehicle, seconds.\n\nThe `gap` value can be used to model fixed-time operations between the shifts, such as swapping the driver, or processing the paperwork at the depot."}},"type":"object","required":["time_window","id"],"additionalProperties":false,"description":"Vehicle shift chosen for the route","title":"RouteShift"},"RouteStatistics":{"type":"object","description":"Accumulative statistics for vehicle route","properties":{"objective_value":{"type":"number","minimum":0},"total_cost":{"type":"number","description":"Total cost of all routes","minimum":0},"total_cost_and_penalty":{"type":"number","description":"Total cost of all routes with penalties","minimum":0},"total_penalty":{"type":"number","description":"Total penalty of all routes","minimum":0},"total_locality_penalty":{"type":"number","description":"Total locality penalty of all routes","minimum":0},"total_same_route_penalty":{"type":"number","description":"Total penalty for same route sites constraint","minimum":0},"total_duration":{"type":"number","description":"Total time of all routes (end of latest route - begin of earliest route)","minimum":0},"total_travel_duration":{"type":"number","description":"Total time spent in transit for all routes","minimum":0},"total_idle_duration":{"type":"number","description":"Total time spent not performing service at site, and not travelling between sites (`total_duration - total_travel_duration - sum(site.duration)`)","minimum":0},"total_travel_distance":{"type":"number","description":"Total transit distance for all routes","minimum":0},"total_travel_energy":{"type":"number","description":"Total transit energy for all routes","minimum":0},"untimely_operations":{"$ref":"#/components/schemas/UntimelyOperationsStatistics"},"total_moved_load_kgkm":{"type":"number","description":"Experimental","minimum":0},"total_moved_load_countkm":{"type":"number","description":"Experimental","minimum":0}},"additionalProperties":false,"required":["total_cost","total_cost_and_penalty","total_penalty","total_locality_penalty","total_duration","total_travel_duration","total_travel_distance","total_travel_energy","total_idle_duration","untimely_operations"]},"RouteVehicle":{"properties":{"id":{"type":"string"},"costs":{"$ref":"#/components/schemas/VehicleCosts"},"shifts":{"$ref":"#/components/schemas/ShiftsDictionary"},"capacity":{"$ref":"#/components/schemas/Capacity"},"min_load":{"$ref":"#/components/schemas/MinimiumLoad"},"capabilities":{"title":"CapabilitiesArray","description":"Vehicle capabilities.\n\nOne or more vehicle characteristics, that could be required at a site, such as cold storage, or a tailgate lift.","type":"array","items":{"title":"Capability","type":"string"},"minItems":1},"roundtrip":{"type":"boolean","default":true,"description":"Return vehicle to the depot at the end of the route.Will be taken into account only when depot is defined.\n\nSetting `roundtrip` to `false` will force a vehicle to finish the route at last visited site."},"depot_id":{"type":"string","description":"Identifier of a depot where vehicle will start and optionally finish the route.\n\nIf `depot_id` is not defined and `depots` is defined, vehicle will start the route from the first depot in `depots` list.","minLength":1},"end_depot_id":{"type":"string","description":"Optional identifier of a depot, where vehicle will finish the route. \n\nCan be defined only if `depot_id` and `depots` are defined, otherwise will be ignored.","minLength":1}},"description":"Vehicle properties","type":"object","additionalProperties":false,"required":["id"]},"SiteRouteWaypoint":{"properties":{"site":{"properties":{"id":{"type":"string","description":"Site unique ID specified in the request"},"location":{"$ref":"#/components/schemas/GeographicLocation"},"time_window":{"title":"TimeWindow","description":"The range of time when a visit to the site is allowed.","allOf":[{"$ref":"#/components/schemas/TimeWindow"}]},"untimely_operations_costs":{"title":"UntimelyOperationsCosts","description":"Costs of untimely arrival to the site.\n\nWhen vehicle arrives to the site too early or too late in respect with the site time window, the corresponding cost is added to the overall cost of the route.","allOf":[{"$ref":"#/components/schemas/UntimelyOperationsCosts"}]},"load":{"$ref":"#/components/schemas/Load"},"unperformed_cost":{"type":"number","description":"Cost of non-performing a visit.","minimum":0,"default":200.0},"duration":{"type":"number","description":"Duration of the job, performed during the site visit, seconds.\n\nExample: time to handle goods or perform services during the site visit.","minimum":0,"default":600.0},"preparing_duration":{"type":"number","description":"Time before the job during the site visit, seconds.\n\nFor co-located sites, will only be accounted for the first site in sequence.\n\nExample: parking time or time for security clearance during site visit, which will happen once if several sites share the same geo coordinates and time window (\"co-located\").","minimum":0,"default":0.0},"loading_duration":{"type":"number","description":"Duration of loading the goods at the depot, seconds.\n\nWill be added to `depot.duration` to adjust time spent by vehicle at the depot.","minimum":0,"default":0.0},"required_capabilities":{"title":"CapabilitiesArray","description":"Vehicle capabilities required on site.\n\nA site can require vehicle with certain characteristics, such as cold storage, or a tailgate lift. Multiple capabilities are allowed. See `fleet{}.capabilities`.","type":"array","items":{"title":"Capability","type":"string"},"minItems":1},"job":{"type":"string","description":"Type of job performed at a site.\n\nFollowing types are supported:\n* `delivery` - goods are picked up at depot and delivered to this site;\n* `pickup` - goods are picked up at this site and delivered to the site specified in `deliver_to` field or to the depot at the end of the route.","enum":["pickup","delivery"],"default":"delivery"},"deliver_to":{"type":"string","description":"For `pickup` jobs, specifies `id` of destination site for delivery."},"same_route_key":{"type":"string","description":"Ensure that sites with equal `same_route_key` will appear on the same route.\n\nNote that all unique `same_route_key` values must be also specified at `constraints.same_route_sites`."}},"type":"object","required":["location","time_window","id"],"additionalProperties":false,"description":"Site route waypoint","title":"SiteWaypoint"},"is_colocated":{"type":"boolean","default":false,"description":"The waypoint shares same geo coordinates and time window with one or more other waypoints, and is a part of co-located sequence in the route.\n\nCo-located waypoints affect the way job duration is calculated, see notes for `duration` above."},"duration":{"description":"Duration of job at waypoint (handling goods, performing services, etc), seconds.","type":"number","minimum":0},"arrival_time":{"type":"string","description":"Time of arrival to waypoint, ISO8601 timestamp in UTC format"},"departure_time":{"type":"string","description":"Time of arrival to waypoint, ISO8601 timestamp in UTC format"},"idle_duration":{"type":"number","minimum":0,"description":"Idle time during waypoint visit after arrival and before starting the job, seconds."},"travel_duration":{"type":"number","minimum":0,"description":"Travel time to waypoint, seconds"},"untimely_arrival_duration":{"type":"number","description":"Time of untimely arrival to waypoint, seconds. Negative for early arrival (before `time_window.start`), positive for late arrival (after `time_window.end`)"},"travel_distance":{"type":"number","minimum":0,"description":"Travel distance to waypoint, meters"},"travel_energy":{"type":"number","minimum":0,"description":"Travel energy to waypoint, kWh"}},"type":"object","additionalProperties":false,"required":["arrival_time","departure_time","travel_distance","travel_duration","travel_energy","duration","idle_duration","untimely_arrival_duration","site"]},"SolutionStatistics":{"type":"object","description":"Accumulative statistics for solution","properties":{"objective_value":{"type":"number","minimum":0,"description":"(internal) solution objective value"},"total_cost":{"type":"number","description":"Total cost of all routes","minimum":0},"total_cost_and_penalty":{"type":"number","description":"Total cost of all routes with penalties","minimum":0},"total_penalty":{"type":"number","description":"Total penalty of all routes","minimum":0},"total_locality_penalty":{"type":"number","description":"Total locality penalty of all routes","minimum":0},"total_same_route_penalty":{"type":"number","description":"Total penalty for same route sites constraint","minimum":0},"total_duration":{"type":"number","description":"Total time of all routes (end of latest route - begin of earliest route)","minimum":0},"total_travel_duration":{"type":"number","description":"Total time spent in transit for all routes","minimum":0},"total_idle_duration":{"type":"number","description":"Total time spent not performing service at site, and not travelling between sites (`total_duration - total_travel_duration - sum(site.duration)`)","minimum":0},"total_travel_distance":{"type":"number","description":"Total transit distance for all routes","minimum":0},"total_travel_energy":{"type":"number","description":"Total transit energy for all routes","minimum":0},"untimely_operations":{"$ref":"#/components/schemas/UntimelyOperationsStatistics"},"total_moved_load_kgkm":{"type":"number","description":"Experimental","minimum":0},"total_moved_load_countkm":{"type":"number","description":"Experimental","minimum":0},"unserved_count":{"type":"number","multipleOf":1.0,"minimum":0,"format":"int64","description":"Number of sites not included in route due to constraints and shortage of vehicles"},"employed_vehicles_count":{"type":"number","multipleOf":1.0,"minimum":0,"format":"int64","description":"Number of vehicles utilized in solution routes"}},"additionalProperties":false,"required":["total_cost","total_cost_and_penalty","total_penalty","total_locality_penalty","total_duration","total_travel_duration","total_travel_distance","total_travel_energy","total_idle_duration","untimely_operations","objective_value","unserved_count","employed_vehicles_count"]},"UnservedSite":{"type":"object","description":"Unserved site reason and definition","properties":{"reason":{"type":"string","description":"Reason for site left unserved."},"site":{"title":"Site","description":"Unserved site definition","allOf":[{"$ref":"#/components/schemas/Site"}]}},"required":["reason","site"]},"UnservedSitesDictionary":{"type":"object","additionalProperties":{"title":"UnservedSite","allOf":[{"$ref":"#/components/schemas/UnservedSite"}]},"description":"Unserved sites and unserved reasons"},"UntimelyOperationsStatistics":{"type":"object","description":"Untimely site arrival statistics","properties":{"early_sites_count":{"type":"number","description":"Number of sites with early arrival (`arrival_time < site.time_window.start`)","minimum":0,"multipleOf":1.0,"format":"int64"},"early_duration":{"type":"number","description":"Sum of time deltas for early arrivals (`sum(|arrival_time - site.time_window.start|)`)","minimum":0},"total_sites_count":{"type":"number","description":"Number of sites with untimely (late or early) arrival","minimum":0,"multipleOf":1.0,"format":"int64"},"total_duration":{"type":"number","description":"Sum of time deltas for untimely arrivals (`sum(|arrival_time - time_window.start|) + sim(|arrival_time - time_window.end|)`","minimum":0},"late_sites_count":{"type":"number","description":"Number of sites with early arrival (`arrival_time > time_window.end`)","minimum":0,"multipleOf":1.0,"format":"int64"},"late_duration":{"type":"number","description":"Sum of time deltas for late arrivals (`sum(|arrival_time - time_window.end|)`)","minimum":0}},"additionalProperties":false,"required":["early_sites_count","early_duration","total_sites_count","total_duration","late_sites_count","late_duration"]},"VehicleRoute":{"type":"object","description":"Vehicle route, statistics and waypoints","properties":{"vehicle":{"title":"RouteVehicle","description":"Vehicle on route","allOf":[{"$ref":"#/components/schemas/RouteVehicle"}]},"statistics":{"title":"RouteStatistics","description":"Route statistics","allOf":[{"$ref":"#/components/schemas/RouteStatistics"}]},"waypoints":{"type":"array","description":"Vehicle route waypoints","title":"VehicleRouteWaypoints","items":{"type":"object","title":"VehicleRouteWaypoint","oneOf":[{"$ref":"#/components/schemas/DepotRouteWaypoint"},{"$ref":"#/components/schemas/SiteRouteWaypoint"}]}},"active_shift":{"title":"RouteShift","description":"Vehicle shift chosen for the route","allOf":[{"$ref":"#/components/schemas/RouteShift"}]}},"additionalProperties":false,"required":["vehicle","statistics","waypoints"]},"RouteOptimizationSolution":{"type":"object","description":"Optimized routes","properties":{"statistics":{"title":"SolutionStatistics","description":"Statistics on optimized routes","allOf":[{"$ref":"#/components/schemas/SolutionStatistics"}]},"routes":{"type":"array","description":"List of optimized routes","title":"VehicleRoute","items":{"allOf":[{"$ref":"#/components/schemas/VehicleRoute"}]}},"unserved":{"title":"UnservedSitesDictionary","description":"Unserved sites, not planned as a part of any route.","allOf":[{"$ref":"#/components/schemas/UnservedSitesDictionary"}]},"options":{"title":"Options","description":"Route optimization options.","allOf":[{"$ref":"#/components/schemas/Options"}]},"fleet":{"title":"VehiclesDictionary","description":"Fleet of available vehicles to visit sites.","allOf":[{"$ref":"#/components/schemas/VehiclesDictionary"}]},"depot":{"type":"object","properties":{"location":{"$ref":"#/components/schemas/GeographicLocation"},"time_window":{"title":"TimeWindow","description":"Time window for depot operations.\n \nRange of time, when depot is allowed to dispatch or accept returning vehicles.","allOf":[{"$ref":"#/components/schemas/TimeWindow"}]},"untimely_operations_costs":{"title":"UntimelyOperationsCosts","description":"Costs of untimely depot operations.\n\nVehicles dispatched too early (before depot time window start) or returned too late (after time window end) will result corresponding penalty added to the overall cost of the route.","allOf":[{"$ref":"#/components/schemas/UntimelyOperationsCosts"}]},"delayed_start_costs":{"title":"DelayedStartCosts","description":"Costs of delayed start of a route at the depot.\n\nVehicles dispatched too late after depot or vehicle shift time window start will result corresponding penalty added to the overall cost of the route.","allOf":[{"$ref":"#/components/schemas/DelayedStartCosts"}]},"duration":{"type":"number","description":"Duration that vehicle spends at a depot (e.g. goods loading), seconds.","minimum":0,"default":600.0},"throughput":{"$ref":"#/components/schemas/DepotThroughput"}},"required":["location","time_window"],"additionalProperties":false,"description":"Depot where all vehicles start and optionally finish their routes.","title":"DeprecatedDepot","deprecated":true},"depots":{"$ref":"#/components/schemas/DepotsDictionary"},"constraints":{"$ref":"#/components/schemas/Constraints"}},"additionalProperties":false,"required":["options","statistics","fleet","routes"]},"Response":{"$ref":"#/components/schemas/RouteOptimizationSolution"}}},"servers":[{"url":"https://routinghub.com/api/routing/v1-devel","description":"Routing API endpoint"}],"tags":[{"name":"routing","x-displayName":"Routing operations"},{"name":"service","description":"API endpoints for development, monitoring and maintenance","x-displayName":"Service operations"}],"paths":{"/schemas/openapi.json":{"get":{"tags":["service"],"operationId":"openapiSchema","summary":"OpenAPI 3.0 schema","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/ping":{"get":{"tags":["service"],"operationId":"pingService","summary":"Status and availability","description":"Provides information in service avialability and status","responses":{"200":{"description":"Service is available","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["OK"]}}}}}}}}},"/doc":{"get":{"tags":["service"],"operationId":"apiDocumetation","summary":"Documentation","description":"API documentation in HTML format","responses":{"200":{"description":"OK","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/add":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Request"}}}},"responses":{"200":{"description":"Task has been queued for execution.","headers":{"Location":{"description":"URL to poll for task completion.","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskInfo"}}}},"400":{"description":"Invalid or empty JSON in POST request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}},"text/html":{"schema":{"type":"string"}}}},"401":{"description":"Request is not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}},"text/html":{"schema":{"type":"string"}}}},"500":{"description":"Server error during request processing","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}},"text/html":{"schema":{"type":"string"}}}}},"security":[{"Bearer":[]}],"tags":["routing"],"operationId":"addRoutingRequest","summary":"Submit routing request"}},"/result/{id}":{"get":{"parameters":[{"name":"id","in":"path","description":"Task ID to query","schema":{"type":"string","format":"byte","minLength":22,"maxLength":22},"required":true}],"responses":{"202":{"description":"Task is executing","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskInfo"}}}},"200":{"description":"Task execution completed","content":{"application/json":{"schema":{"allOf":[{"oneOf":[{"type":"object","title":"ResultResponse","properties":{"result":{"$ref":"#/components/schemas/Response"}},"required":["result"]},{"title":"ErrorResponse","allOf":[{"$ref":"#/components/schemas/Error"}]}]},{"$ref":"#/components/schemas/TaskInfo"}]}}}},"401":{"description":"Request is not authorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}},"text/html":{"schema":{"type":"string"}}}},"404":{"description":"Requested task is not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}},"text/html":{"schema":{"type":"string"}}}},"500":{"description":"Server error during request processing","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}},"text/html":{"schema":{"type":"string"}}}}},"security":[{"Bearer":[]}],"tags":["routing"],"operationId":"getRoutingResult","summary":"Receive routing result"}}}}